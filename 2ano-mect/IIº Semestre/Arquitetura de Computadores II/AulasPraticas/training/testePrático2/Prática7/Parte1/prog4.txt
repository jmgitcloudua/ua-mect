#include <detpic32>

//configure Timer1
void configTimer1(){
  T1CONbits.TCKPS = 3 ; //Kpresc= 256 | fout_presc= 78125Hz
  PR1 = 69062; // PR1 = fout_presc/fout - 1
  TMR1 = 0; //reset Timer1
  T1CONbits.TON = 1; //enable Timer1
 
 //Configure Timer T1 Interrupts
 IPC1bits.T1IP = 2; //confirue priority
 IFS0bits.T1IF = 0; //reset Timer1
 IEC0bits.T1IE = 1; //enable Timer1
  
}
//configure Timer3
void configTimer3(){
  T3CONbits.TCKPS = 5; //Kpresc= 32 | fout_presc= 625KHz 
  PR3 = 62499; // PR3 = fout_presc/fout - 1
  TMR3 = 0; //reset Timer3
  T3CONbits.TON = 1; //enable Timer3
 
 //Configure Timer T3 Interrupts
 IPC1bits.T3IP = 1; //confirue priority
 IFS0bits.T3IF = 0; //reset Timer3
 IEC0bits.T3IE = 1; //enable Timer3
  
}
//configure Interrupt System
void _int_(4) isr_T1(void){
  putChar('1');
  IFS0bits.T1IF = 0; //reset T3IF flag
}
void _int_(12) isr_T3(void){
  putChar('3');
  IFS0bits.T3IF = 0; //reset T3IF flag
}

int main(void){
 configTimer1();
 configTimer3();

 EnableInterrupts(); //enable global interrupts

 while(1);

 return 0;
}